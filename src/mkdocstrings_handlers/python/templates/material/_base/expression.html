{%- set original_expression = expression -%}
{%- if original_expression is iterable and original_expression is not string -%}
  {%- for expression in original_expression -%}
    {%- include "expression.html" with context -%}
  {%- endfor -%}
{%- elif original_expression is string -%}
  {{ original_expression }}
{%- else -%}
  <span data-autorefs-optional{% if original_expression.full != original_expression.source %}-hover{% endif %}="{{ original_expression.full }}">{{ original_expression.source }}</span>
{%- endif -%}
